<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Cek Username Free Fire</title>
</head>
<body>
  <h2>Cek Nama Akun Free Fire</h2>
  <input type="tel" id="id" placeholder="ID Player" />
  <button onclick="cekNick()">Cek Nama</button>
  <p id="nick">Nama akun...</p>

  <script>
    async function cekNick() {
      const id = document.getElementById('id').value;
      const nickP = document.getElementById('nick');
      nickP.innerText = 'Sedang mengecek...';

      try {
        const response = await fetch(`/api/cek-nama?gameId=${id}`);
        const result = await response.json();

        if (result.status && result.data.username) {
          nickP.innerText = `Nama Akun: ${result.data.username}`;
        } else {
          nickP.innerText = 'Gagal menemukan nama.';
        }
      } catch (error) {
        console.error(error);
        nickP.innerText = 'Terjadi kesalahan saat mengambil data.';
      }
    }
  </script>
</body>
</html>
